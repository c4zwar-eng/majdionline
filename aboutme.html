<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#000000">
  <meta name="format-detection" content="telephone=no">
  <meta name="touch-action" content="manipulation">
  <meta http-equiv="Feature-Policy" content="autoplay 'self'">
  <meta http-equiv="Permissions-Policy" content="autoplay=*">
  <title>About Me - Majdi Bouhamdi Site</title>
  <link rel="icon" type="image/x-icon" href="https://cdn-icons-png.flaticon.com/512/124/124555.png">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    /* About Me Page Specific Styles */
    .about-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      padding: 50px;
      box-sizing: border-box;
    }

    .about-content {
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid rgba(255, 247, 36, 0.3);
      border-radius: 20px;
      padding: 40px;
      max-width: 800px;
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 30px rgba(255, 247, 36, 0.2);
      text-align: center;
      animation: fadeInUp 1s ease-out;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .about-title {
      color: #fff724;
      font-size: 48px;
      margin-bottom: 20px;
      text-shadow: 0 0 20px rgba(255, 247, 36, 0.8);
      animation: glow 2s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from {
        text-shadow: 0 0 20px rgba(255, 247, 36, 0.8);
      }
      to {
        text-shadow: 0 0 30px rgba(255, 247, 36, 1), 0 0 40px rgba(255, 247, 36, 0.8);
      }
    }

    .about-description {
      color: #fff;
      font-size: 18px;
      line-height: 1.6;
      margin-bottom: 30px;
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
    }

    .skills-section {
      margin: 30px 0;
    }

    .skills-title {
      color: #fff724;
      font-size: 24px;
      margin-bottom: 20px;
      text-shadow: 0 0 15px rgba(255, 247, 36, 0.6);
    }

    .skills-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .skill-item {
      background: rgba(255, 247, 36, 0.1);
      border: 1px solid rgba(255, 247, 36, 0.3);
      border-radius: 10px;
      padding: 15px;
      transition: all 0.3s ease;
    }

    .skill-item:hover {
      background: rgba(255, 247, 36, 0.2);
      border-color: rgba(255, 247, 36, 0.6);
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(255, 247, 36, 0.3);
    }

    .skill-item i {
      font-size: 24px;
      color: #fff724;
      margin-bottom: 10px;
    }

    .skill-name {
      color: #fff;
      font-weight: bold;
      font-size: 16px;
    }

    .back-btn {
      position: fixed;
      top: 30px;
      left: 30px;
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 20px;
      background: rgba(255, 247, 36, 0.1);
      border: 2px solid rgba(255, 247, 36, 0.5);
      border-radius: 50px;
      color: #fff724;
      text-decoration: none;
      font-weight: bold;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      z-index: 20;
    }

    .back-btn:hover {
      background: rgba(255, 247, 36, 0.2);
      border-color: rgba(255, 247, 36, 0.8);
      transform: translateX(-5px) scale(1.05);
      box-shadow: 0 5px 15px rgba(255, 247, 36, 0.4);
      color: #fff;
    }

    .back-btn i {
      font-size: 16px;
      transition: transform 0.3s ease;
    }

    .back-btn:hover i {
      transform: translateX(-3px);
    }

    .contact-section {
      margin-top: 30px;
      padding-top: 30px;
      border-top: 1px solid rgba(255, 247, 36, 0.3);
    }

    .contact-title {
      color: #fff724;
      font-size: 24px;
      margin-bottom: 15px;
      text-shadow: 0 0 15px rgba(255, 247, 36, 0.6);
    }

    .contact-info {
      color: #fff;
      font-size: 16px;
      line-height: 1.8;
    }

    .contact-info a {
      color: #fff724;
      text-decoration: none;
      transition: color 0.3s ease;
    }

    .contact-info a:hover {
      color: #fff;
      text-shadow: 0 0 10px rgba(255, 247, 36, 0.8);
    }
    
    /* Professional Contact Styles */
    .professional-contact {
      margin-top: 30px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    
    .contact-item {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 15px 20px;
      background: rgba(255, 247, 36, 0.1);
      border: 2px solid rgba(255, 247, 36, 0.3);
      border-radius: 15px;
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
    }
    
    .contact-item:hover {
      background: rgba(255, 247, 36, 0.15);
      border-color: rgba(255, 247, 36, 0.6);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 247, 36, 0.2);
    }
    
    .contact-icon {
      width: 50px;
      height: 50px;
      background: rgba(255, 247, 36, 0.2);
      border: 2px solid rgba(255, 247, 36, 0.4);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: #fff724;
      transition: all 0.3s ease;
      flex-shrink: 0;
    }
    
    .contact-item:hover .contact-icon {
      background: rgba(255, 247, 36, 0.3);
      border-color: rgba(255, 247, 36, 0.7);
      transform: scale(1.1);
      color: #fff;
      box-shadow: 0 0 15px rgba(255, 247, 36, 0.5);
    }
    
    .contact-details {
      display: flex;
      flex-direction: column;
      gap: 5px;
      flex: 1;
    }
    
    .contact-label {
      color: rgba(255, 255, 255, 0.7);
      font-size: 12px;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .contact-value {
      color: #fff;
      font-size: 16px;
      font-weight: bold;
      text-decoration: none;
      transition: color 0.3s ease;
    }
    
    .contact-value:hover {
      color: #fff724;
      text-shadow: 0 0 10px rgba(255, 247, 36, 0.6);
    }

    /* Mobile Optimizations for Android Devices */
    @media (max-width: 768px) {
      body {
        -webkit-overflow-scrolling: touch;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        touch-action: pan-y;
      }
      
      .about-container {
        padding: 20px 15px;
        align-items: flex-start;
        padding-top: 80px;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
      }
      
      .about-content {
        padding: 25px 20px;
        margin: 0;
        max-width: 100%;
        border-radius: 15px;
        backdrop-filter: blur(8px);
      }

      .about-title {
        font-size: 32px;
        margin-bottom: 15px;
        line-height: 1.2;
      }

      .about-description {
        font-size: 16px;
        line-height: 1.5;
        margin-bottom: 25px;
      }
      
      .skills-section {
        margin: 25px 0;
      }
      
      .skills-title {
        font-size: 22px;
        margin-bottom: 15px;
      }

      .skills-grid {
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        margin-top: 15px;
      }
      
      .skill-item {
        padding: 12px;
        border-radius: 8px;
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
      }
      
      .skill-item:active {
        transform: scale(0.95);
        transition: transform 0.1s ease;
      }
      
      .skill-item i {
        font-size: 20px;
        margin-bottom: 8px;
      }
      
      .skill-name {
        font-size: 14px;
      }
      
      .contact-section {
        margin-top: 25px;
        padding-top: 20px;
      }
      
      .contact-title {
        font-size: 22px;
        margin-bottom: 12px;
      }
      
      .contact-info {
        font-size: 15px;
        line-height: 1.6;
      }
      
      .back-btn {
        padding: 10px 16px;
        font-size: 14px;
        top: 20px;
        left: 20px;
        border-radius: 25px;
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
      }
      
      .back-btn:active {
        transform: scale(0.95) translateZ(0);
        transition: transform 0.1s ease;
      }
      
      .back-btn i {
        font-size: 14px;
      }
      
      /* Professional Contact Mobile */
      .professional-contact {
        gap: 15px;
        margin-top: 25px;
      }
      
      .contact-item {
        padding: 12px 15px;
        gap: 12px;
        border-radius: 12px;
      }
      
      .contact-icon {
        width: 40px;
        height: 40px;
        font-size: 16px;
      }
      
      .contact-label {
        font-size: 11px;
      }
      
      .contact-value {
        font-size: 14px;
      }
      
      /* Music Controls Mobile */
      .music-control {
        top: 75px;
        right: 20px;
      }
      
      .music-control-simple {
        padding: 8px;
        width: 50px;
        height: 50px;
      }
      
      .music-btn {
        width: 35px;
        height: 35px;
        font-size: 14px;
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
      }
      
      .music-btn:active {
        transform: scale(0.9);
        transition: transform 0.1s ease;
      }
    }
    
    /* Extra Small Mobile Devices */
    @media (max-width: 480px) {
      .about-container {
        padding: 15px 10px;
        padding-top: 70px;
      }
      
      .about-content {
        padding: 20px 15px;
        border-radius: 12px;
      }
      
      .about-title {
        font-size: 28px;
        margin-bottom: 12px;
      }
      
      .about-description {
        font-size: 15px;
        margin-bottom: 20px;
      }
      
      .skills-title, .contact-title {
        font-size: 20px;
        margin-bottom: 10px;
      }
      
      .skills-grid {
        grid-template-columns: 1fr;
        gap: 12px;
      }
      
      .skill-item {
        padding: 15px 10px;
        text-align: center;
      }
      
      .skill-item i {
        font-size: 24px;
        margin-bottom: 10px;
      }
      
      .skill-name {
        font-size: 15px;
      }
      
      .contact-info {
        font-size: 14px;
      }
      
      .back-btn {
        padding: 8px 14px;
        font-size: 13px;
        top: 15px;
        left: 15px;
        gap: 6px;
      }
      
      .back-btn i {
        font-size: 12px;
      }
      
      /* Professional Contact Extra Small Mobile */
      .professional-contact {
        gap: 12px;
        margin-top: 20px;
      }
      
      .contact-item {
        padding: 10px 12px;
        gap: 10px;
        border-radius: 10px;
      }
      
      .contact-icon {
        width: 35px;
        height: 35px;
        font-size: 14px;
      }
      
      .contact-label {
        font-size: 10px;
      }
      
      .contact-value {
        font-size: 13px;
      }
      
      /* Music Controls Extra Small Mobile */
      .music-control {
        top: 65px;
        right: 15px;
      }
      
      .music-control-simple {
        padding: 6px;
        width: 42px;
        height: 42px;
      }
      
      .music-btn {
        width: 30px;
        height: 30px;
        font-size: 12px;
      }
    }
    
    /* Music Controls - Simplified for About Page */
    .music-control {
      position: fixed;
      top: 30px;
      right: 30px;
      z-index: 25;
      display: flex;
      align-items: center;
      gap: 15px;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(10px);
      border-radius: 50px;
      padding: 10px 15px;
      border: 2px solid rgba(255, 247, 36, 0.3);
      transition: all 0.3s ease;
    }
    
    .music-control-simple {
      padding: 10px;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      justify-content: center;
    }
    
    .music-control:hover {
      border-color: rgba(255, 247, 36, 0.6);
      box-shadow: 0 5px 20px rgba(255, 247, 36, 0.3);
    }
    
    .music-btn {
      background: rgba(255, 247, 36, 0.2);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      color: #fff724;
      font-size: 16px;
    }
    
    .music-btn:hover {
      background: rgba(255, 247, 36, 0.4);
      transform: scale(1.1);
      color: #fff;
    }
    
    .music-btn:active {
      transform: scale(0.95);
    }
    
    .music-btn.playing {
      background: rgba(255, 247, 36, 0.4);
      color: #fff;
      animation: musicPulse 2s ease-in-out infinite;
    }
    
    @keyframes musicPulse {
      0%, 100% {
        box-shadow: 0 0 10px rgba(255, 247, 36, 0.4);
      }
      50% {
        box-shadow: 0 0 20px rgba(255, 247, 36, 0.8);
      }
    }
    
    /* Volume slider removed - controlled from main page only */
  </style>
</head>
<body>
    <!-- Stars Background (reusing the same script) -->
    <div class="particles-container"></div>
    
    <!-- Background Music -->
    <audio id="backgroundMusic" loop autoplay>
        <source src="music.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    
    <!-- Music Control Button -->
    <div class="music-control music-control-simple">
        <button id="musicToggle" class="music-btn" title="Toggle Music">
            <i class="fas fa-music"></i>
        </button>
    </div>
    
    <!-- Back Button -->
    <a href="index.html" class="back-btn">
        <i class="fas fa-arrow-left"></i>
        <span>Back to Home</span>
    </a>

    <!-- About Content -->
    <div class="about-container">
        <div class="about-content">
            <h1 class="about-title">About Majdi</h1>
            
            <p class="about-description">
                Welcome to my digital space! I'm Majdi, a passionate creative professional who loves bringing ideas to life through various mediums. 
                My journey spans across development, design, and digital content creation, always striving to create meaningful and engaging experiences.
            </p>

            <div class="skills-section">
                <h2 class="skills-title">What I Do</h2>
                <div class="skills-grid">
                    <div class="skill-item">
                        <i class="fas fa-code"></i>
                        <div class="skill-name">Web Development</div>
                    </div>
                    <div class="skill-item">
                        <i class="fas fa-video"></i>
                        <div class="skill-name">Video Editing</div>
                    </div>
                    <div class="skill-item">
                        <i class="fas fa-paint-brush"></i>
                        <div class="skill-name">Digital Design</div>
                    </div>
                    <div class="skill-item">
                        <i class="fas fa-lightbulb"></i>
                        <div class="skill-name">Creative Direction</div>
                    </div>
                </div>
            </div>

            <div class="contact-section">
                <h2 class="contact-title">Let's Connect</h2>
                <div class="contact-info">
                    <p>I'm always excited to collaborate on new projects and meet fellow creatives!</p>
                    <p>Feel free to reach out through any of my social media channels on the homepage.</p>
                </div>
                
                <!-- Professional Contact Information -->
                <div class="professional-contact">
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-details">
                            <span class="contact-label">Work Email</span>
                            <a href="mailto:m3ads7@gmail.com" class="contact-value">m3ads7@gmail.com</a>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-details">
                            <span class="contact-label">Phone Number</span>
                            <a href="tel:+21692097342" class="contact-value">+216 92 097 342</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts for background effects -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

    <script>
        // Simplified stars background for about page
        let scene, camera, renderer, stars;

        function createCircleTexture() {
            const size = 128; 
            const canvas = document.createElement("canvas");
            canvas.width = size;
            canvas.height = size;

            const ctx = canvas.getContext("2d");
            const gradient = ctx.createRadialGradient(
                size/2, size/2, 0,
                size/2, size/2, size/2
            );
            gradient.addColorStop(0, "rgba(255,255,255,1)");
            gradient.addColorStop(0.2, "rgba(255,255,200,0.8)");
            gradient.addColorStop(0.5, "rgba(255,255,200,0.3)");
            gradient.addColorStop(1, "rgba(255,255,255,0)");

            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.arc(size/2, size/2, size/2, 0, Math.PI*2);
            ctx.fill();

            return new THREE.CanvasTexture(canvas);
        }

        function init() {
            scene = new THREE.Scene();

            camera = new THREE.PerspectiveCamera(
                60,
                window.innerWidth / window.innerHeight,
                1,
                1000
            );
            camera.position.z = 1;
            camera.rotation.x = Math.PI / 2;

            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            const starGeo = new THREE.BufferGeometry();
            const starVertices = [];
            // Reduce stars on mobile for better performance
            const starCount = window.innerWidth < 768 ? 2000 : 4000;
            for (let i = 0; i < starCount; i++) {
                const x = Math.random() * 600 - 300;
                const y = Math.random() * 600 - 300;
                const z = Math.random() * 600 - 300;
                starVertices.push(x, y, z);
            }
            starGeo.setAttribute(
                "position",
                new THREE.Float32BufferAttribute(starVertices, 3)
            );

            const circleTexture = createCircleTexture();
            const starMaterial = new THREE.PointsMaterial({
                color: 0xffffff,
                size: 1.5,
                map: circleTexture,
                transparent: true,
                alphaTest: 0.05,
                sizeAttenuation: true,
                depthWrite: false,
                blending: THREE.AdditiveBlending
            });

            stars = new THREE.Points(starGeo, starMaterial);
            scene.add(stars);

            window.addEventListener("resize", onWindowResize, false);
            animate();
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function animate() {
            stars.rotation.y += 0.0003;
            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }

        window.addEventListener("load", init);
    </script>

    <script>
        // Mouse particle effects
        document.addEventListener('DOMContentLoaded', function() {
            const particlesContainer = document.querySelector('.particles-container');
            
            document.addEventListener('mousemove', function(e) {
                // Reduce particle creation frequency on mobile
                const frequency = window.innerWidth < 768 ? 0.15 : 0.3;
                if (Math.random() < frequency) {
                    createParticle(e.clientX, e.clientY);
                }
            });
            
            function createParticle(x, y) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = (x - 2) + 'px';
                particle.style.top = (y - 2) + 'px';
                
                const angle = Math.random() * Math.PI * 2;
                const distance = 30 + Math.random() * 60;
                const duration = 1 + Math.random() * 1.5;
                
                const moveX = Math.cos(angle) * distance;
                const moveY = Math.sin(angle) * distance;
                
                particlesContainer.appendChild(particle);
                
                particle.animate([
                    { 
                        transform: 'translate(0, 0) scale(1)',
                        opacity: 1
                    },
                    { 
                        transform: `translate(${moveX}px, ${moveY}px) scale(0)`,
                        opacity: 0
                    }
                ], {
                    duration: duration * 1000,
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                });
                
                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }, duration * 1000);
            }
        });
    </script>
    
    <script>
        // Try to start music as early as possible
        window.addEventListener('load', function() {
            const earlyMusic = document.getElementById('backgroundMusic');
            if (earlyMusic) {
                earlyMusic.volume = 0.5;
                earlyMusic.play();
            }
        });
        
        // Background Music Control for About Page
        document.addEventListener('DOMContentLoaded', function() {
            const music = document.getElementById('backgroundMusic');
            const musicToggle = document.getElementById('musicToggle');
            let isPlaying = false;
            let userInteracted = false;
            
            // Check if music was already playing in the main page (using localStorage)
            const musicWasPlaying = localStorage.getItem('musicPlaying') === 'true';
            const savedVolume = localStorage.getItem('musicVolume') || '50';
            
            // Restore volume setting from main page
            music.volume = parseInt(savedVolume) / 100;
            
            // Force music to play immediately - multiple attempts
            function forcePlayMusic() {
                music.play().then(() => {
                    isPlaying = true;
                    musicToggle.classList.add('playing');
                    musicToggle.innerHTML = '<i class="fas fa-pause"></i>';
                    localStorage.setItem('musicPlaying', 'true');
                    console.log('Music started successfully');
                }).catch(() => {
                    // Keep trying every 500ms until it works
                    setTimeout(forcePlayMusic, 500);
                });
            }
            
            // Start music immediately
            forcePlayMusic();
            
            // Also try on any page interaction
            const startOnInteraction = () => {
                if (!isPlaying) {
                    forcePlayMusic();
                }
            };
            
            // Multiple event listeners to catch any user interaction
            document.addEventListener('click', startOnInteraction, { once: true });
            document.addEventListener('touchstart', startOnInteraction, { once: true });
            document.addEventListener('keydown', startOnInteraction, { once: true });
            document.addEventListener('mousemove', startOnInteraction, { once: true });
            document.addEventListener('scroll', startOnInteraction, { once: true });
            
            // Function to show music notification
            function showMusicNotification(message) {
                const notification = document.createElement('div');
                notification.style.cssText = `
                  position: fixed;
                  bottom: 100px;
                  right: 30px;
                  background: rgba(255, 247, 36, 0.9);
                  color: #000;
                  padding: 10px 15px;
                  border-radius: 20px;
                  font-weight: bold;
                  font-size: 14px;
                  z-index: 1000;
                  opacity: 0;
                  transform: translateY(20px);
                  transition: all 0.3s ease;
                  border: 2px solid rgba(255, 247, 36, 0.8);
                  box-shadow: 0 4px 15px rgba(255, 247, 36, 0.4);
                `;
                notification.textContent = message;
                document.body.appendChild(notification);
                
                // Animate in
                setTimeout(() => {
                    notification.style.opacity = '1';
                    notification.style.transform = 'translateY(0)';
                }, 100);
                
                // Remove after 3 seconds
                setTimeout(() => {
                    notification.style.opacity = '0';
                    notification.style.transform = 'translateY(-20px)';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }, 3000);
            }
            
            // The force play function above handles all music starting
            
            // Toggle music play/pause
            musicToggle.addEventListener('click', function(e) {
                e.stopPropagation();
                
                if (isPlaying) {
                    music.pause();
                    isPlaying = false;
                    musicToggle.classList.remove('playing');
                    musicToggle.innerHTML = '<i class="fas fa-play"></i>';
                    localStorage.setItem('musicPlaying', 'false');
                } else {
                    music.play().then(() => {
                        isPlaying = true;
                        musicToggle.classList.add('playing');
                        musicToggle.innerHTML = '<i class="fas fa-pause"></i>';
                        localStorage.setItem('musicPlaying', 'true');
                    }).catch(error => {
                        console.log('Music play failed:', error);
                    });
                }
            });
            
            // Volume is controlled from the main page only
            
            // Handle music end (though it's set to loop)
            music.addEventListener('ended', function() {
                isPlaying = false;
                musicToggle.classList.remove('playing');
                musicToggle.innerHTML = '<i class="fas fa-music"></i>';
                localStorage.setItem('musicPlaying', 'false');
            });
            
            // Handle music loading errors
            music.addEventListener('error', function() {
                console.log('Music file could not be loaded. Make sure "music.mp3" exists in the same folder.');
                musicToggle.style.opacity = '0.5';
                musicToggle.style.cursor = 'not-allowed';
            });
            
            // Update music state when page visibility changes
            document.addEventListener('visibilitychange', function() {
                if (document.visibilityState === 'visible' && isPlaying) {
                    // Resume music if it should be playing
                    music.play();
                }
            });
        });
    </script>
</body>
</html>